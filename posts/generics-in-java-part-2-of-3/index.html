<!DOCTYPE html><html lang="en" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="generator" content="Jekyll v4.2.2" /><meta property="og:title" content="Generics in Java part 2 of 3" /><meta name="author" content="Borko Rajković" /><meta property="og:locale" content="en" /><meta name="description" content="Generics in Java had been introduced since Java 5. We’ll see how they contribute to code reusability by adding an extra layer of abstraction over reference types. In this part we are going to introduce the concept of type erasure, invariance and restrictions of generics" /><meta property="og:description" content="Generics in Java had been introduced since Java 5. We’ll see how they contribute to code reusability by adding an extra layer of abstraction over reference types. In this part we are going to introduce the concept of type erasure, invariance and restrictions of generics" /><link rel="canonical" href="https://borkorajkovic.com//posts/generics-in-java-part-2-of-3/" /><meta property="og:url" content="https://borkorajkovic.com//posts/generics-in-java-part-2-of-3/" /><meta property="og:site_name" content="Borko Rajkovic Tech Blog" /><meta property="og:image" content="https://borkorajkovic.com//assets/img/posts/2022-10-05-generics-in-java-part-2-of-3/thumbnail.png" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2022-10-05T23:27:00+02:00" /><meta name="twitter:card" content="summary_large_image" /><meta property="twitter:image" content="https://borkorajkovic.com//assets/img/posts/2022-10-05-generics-in-java-part-2-of-3/thumbnail.png" /><meta property="twitter:title" content="Generics in Java part 2 of 3" /><meta name="twitter:site" content="@borko_88" /><meta name="twitter:creator" content="@borko_88" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"Borko Rajković","url":"https://www.linkedin.com/in/borko-rajkovic/"},"dateModified":"2022-10-07T23:58:28+02:00","datePublished":"2022-10-05T23:27:00+02:00","description":"Generics in Java had been introduced since Java 5. We’ll see how they contribute to code reusability by adding an extra layer of abstraction over reference types. In this part we are going to introduce the concept of type erasure, invariance and restrictions of generics","headline":"Generics in Java part 2 of 3","image":"https://borkorajkovic.com//assets/img/posts/2022-10-05-generics-in-java-part-2-of-3/thumbnail.png","mainEntityOfPage":{"@type":"WebPage","@id":"https://borkorajkovic.com//posts/generics-in-java-part-2-of-3/"},"url":"https://borkorajkovic.com//posts/generics-in-java-part-2-of-3/"}</script><title>Generics in Java part 2 of 3 | Borko Rajkovic Tech Blog</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="Borko Rajkovic Tech Blog"><meta name="application-name" content="Borko Rajkovic Tech Blog"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link rel="dns-prefetch" href="https://fonts.gstatic.com" crossorigin><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://cdn.jsdelivr.net" ><link rel="dns-prefetch" href="https://cdn.jsdelivr.net" ><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Lato&family=Source+Sans+Pro:wght@400;600;700;900&display=swap"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1/dist/magnific-popup.min.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script> <script type="text/javascript"> class ModeToggle { static get MODE_KEY() { return "mode"; } static get MODE_ATTR() { return "data-mode"; } static get DARK_MODE() { return "dark"; } static get LIGHT_MODE() { return "light"; } static get ID() { return "mode-toggle"; } constructor() { if (this.hasMode) { if (this.isDarkMode) { if (!this.isSysDarkPrefer) { this.setDark(); } } else { if (this.isSysDarkPrefer) { this.setLight(); } } } let self = this; /* always follow the system prefers */ this.sysDarkPrefers.addEventListener("change", () => { if (self.hasMode) { if (self.isDarkMode) { if (!self.isSysDarkPrefer) { self.setDark(); } } else { if (self.isSysDarkPrefer) { self.setLight(); } } self.clearMode(); } self.notify(); }); } /* constructor() */ get sysDarkPrefers() { return window.matchMedia("(prefers-color-scheme: dark)"); } get isSysDarkPrefer() { return this.sysDarkPrefers.matches; } get isDarkMode() { return this.mode === ModeToggle.DARK_MODE; } get isLightMode() { return this.mode === ModeToggle.LIGHT_MODE; } get hasMode() { return this.mode != null; } get mode() { return sessionStorage.getItem(ModeToggle.MODE_KEY); } /* get the current mode on screen */ get modeStatus() { if (this.isDarkMode || (!this.hasMode && this.isSysDarkPrefer)) { return ModeToggle.DARK_MODE; } else { return ModeToggle.LIGHT_MODE; } } setDark() { $('html').attr(ModeToggle.MODE_ATTR, ModeToggle.DARK_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); } setLight() { $('html').attr(ModeToggle.MODE_ATTR, ModeToggle.LIGHT_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); } clearMode() { $('html').removeAttr(ModeToggle.MODE_ATTR); sessionStorage.removeItem(ModeToggle.MODE_KEY); } /* Notify another plugins that the theme mode has changed */ notify() { window.postMessage({ direction: ModeToggle.ID, message: this.modeStatus }, "*"); } } /* ModeToggle */ const toggle = new ModeToggle(); function flipMode() { if (toggle.hasMode) { if (toggle.isSysDarkPrefer) { if (toggle.isLightMode) { toggle.clearMode(); } else { toggle.setLight(); } } else { if (toggle.isDarkMode) { toggle.clearMode(); } else { toggle.setDark(); } } } else { if (toggle.isSysDarkPrefer) { toggle.setLight(); } else { toggle.setDark(); } } toggle.notify(); } /* flipMode() */ </script><body data-spy="scroll" data-target="#toc" data-topbar-visible="true"><div id="sidebar" class="d-flex flex-column align-items-end"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" class="mx-auto"> <img src="https://pbs.twimg.com/profile_images/1484588464163196934/-F7h8gIt_400x400.jpg" alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title mt-3"> <a href="/">Borko Rajkovic Tech Blog</a></div><div class="site-subtitle font-italic">Simple blog about software development</div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tag ml-xl-3 mr-xl-3 unloaded"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info-circle ml-xl-3 mr-xl-3 unloaded"></i> <span>ABOUT</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center align-items-center"> <button class="mode-toggle btn" aria-label="Switch Mode"> <i class="fas fa-adjust"></i> </button> <span class="icon-border"></span> <a href="https://github.com/borko-rajkovic" aria-label="github" target="_blank" rel="noopener"> <i class="fab fa-github"></i> </a> <a href="https://twitter.com/borko_88" aria-label="twitter" target="_blank" rel="noopener"> <i class="fab fa-twitter"></i> </a> <a href=" javascript:location.href = 'mailto:' + ['rajkovicborko','gmail.com'].join('@')" aria-label="email" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" aria-label="rss" > <i class="fas fa-rss"></i> </a></div></div><div id="topbar-wrapper"><div id="topbar" class="container d-flex align-items-center justify-content-between h-100 pl-3 pr-3 pl-md-4 pr-md-4"> <span id="breadcrumb"> <span> <a href="/"> Home </a> </span> <span>Generics in Java part 2 of 3</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="Search..."> </span> <span id="search-cancel" >Cancel</span></div></div><div id="main-wrapper" class="d-flex justify-content-center"><div id="main" class="container pl-xl-4 pr-xl-4"><div class="row"><div id="core-wrapper" class="col-12 col-lg-11 col-xl-9 pr-xl-4"><div class="post pl-1 pr-1 pl-md-2 pr-md-2"><h1 data-toc-skip>Generics in Java part 2 of 3</h1><div class="post-meta text-muted"> <span> Posted <em class="" data-ts="1665005220" data-df="ll" data-toggle="tooltip" data-placement="bottom"> Oct 5, 2022 </em> </span> <span> Updated <em class="" data-ts="1665179908" data-df="ll" data-toggle="tooltip" data-placement="bottom"> Oct 7, 2022 </em> </span><div class="d-flex justify-content-between"> <span> By <em> <a href="https://www.linkedin.com/in/borko-rajkovic/">Borko Rajković</a> </em> </span><div> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="2251 words"> <em>12 min</em> read</span></div></div></div><div class="post-content"><p><img data-src="/assets/img/posts/2022-10-05-generics-in-java-part-2-of-3/thumbnail.png" alt="thumbnail" data-proofer-ignore></p><p>This article is the second part of the series <code class="language-plaintext highlighter-rouge">Generics in Java</code>.</p><p>Here are links to all parts:</p><ul><li><a href="/posts/generics-in-java-part-1-of-3/">Generics in Java part 1 of 3</a><li><a href="/posts/generics-in-java-part-2-of-3/">Generics in Java part 2 of 3</a><li><a href="/posts/generics-in-java-part-3-of-3/">Generics in Java part 3 of 3</a></ul><p>Now that you know some basic syntax for Generics, as well as the motivation behind it, we can continue our journey to further expand our knowledge of Generics.</p><p>In this part, we are going to introduce the concept of type erasure, invariance, and restrictions of generics.</p><hr /><h2 id="raw-generic-types"><span class="mr-2">Raw Generic Types</span><a href="#raw-generic-types" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>We already mentioned that Generics is a purely compile-time feature of the Java programming language, meaning the Generic types do not exist in the runtime.</p><p>To keep Java backward compatible with the old versions, Generics allow you the usage of so-called Raw types.</p><p>Imagine that you were going to use a library that is written in Java 8, but your code is written in Java 4. We know that Generics appeared in Java 5, so you cannot use Generic types directly.</p><p>In this case, you can use Generic types without <strong>type arguments</strong> and still be able to include that library.</p><blockquote class="prompt-info"><div><p><strong>Raw type</strong> is a Generic type without type arguments.</p></div></blockquote><p>Let’s show this with an example.</p><p>We know that the Collections framework has Generic types. One such example is the <code class="language-plaintext highlighter-rouge">List</code> interface, which takes <code class="language-plaintext highlighter-rouge">E</code> as a <code class="language-plaintext highlighter-rouge">type parameter</code>.</p><p>You already know by now how to create <code class="language-plaintext highlighter-rouge">List</code> of <code class="language-plaintext highlighter-rouge">Integer</code> element type:</p><div class="language-java highlighter-rouge"><div class="code-header"> <span data-label-text="Java"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="nc">List</span><span class="o">&lt;</span><span class="nc">Integer</span><span class="o">&gt;</span> <span class="n">list</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ArrayList</span><span class="o">&lt;&gt;();</span>
</pre></table></code></div></div><p>But you are not required to provide a <code class="language-plaintext highlighter-rouge">type argument</code>, you can just leave it empty like this:</p><div class="language-java highlighter-rouge"><div class="code-header"> <span data-label-text="Java"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="nc">List</span> <span class="n">list</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ArrayList</span><span class="o">();</span>
</pre></table></code></div></div><p>What happens here is that the <code class="language-plaintext highlighter-rouge">Object</code> type will be used as a <code class="language-plaintext highlighter-rouge">type argument</code>.</p><blockquote class="prompt-warning"><div><p>If you have multiple type parameters for your Generic class, you cannot omit just one <code class="language-plaintext highlighter-rouge">type argument</code>. You must either provide all <code class="language-plaintext highlighter-rouge">type arguments</code>, or omit them all (use Raw Generic type).</p></div></blockquote><p>This brings us back to our first solution in making some class generic - by using the <code class="language-plaintext highlighter-rouge">Object</code> type in a class. Compile time type safety is lost by using Raw Generics. Needless to say, this approach should be avoided.</p><blockquote class="prompt-danger"><div><p><strong>Using raw types is dangerous!</strong></p></div></blockquote><h3 id="exceptions-to-not-using-rawtypes"><span class="mr-2">Exceptions to not using Raw types</span><a href="#exceptions-to-not-using-rawtypes" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>We already said that Raw types should be avoided, but sometimes there are cases in which you don’t have a choice but to use them:</p><ul><li>class literals (there is no <code class="language-plaintext highlighter-rouge">List&lt;String&gt;.class</code> per se, because generic types do not exist in runtime, so we must use <code class="language-plaintext highlighter-rouge">List.class</code> instead)<li><code class="language-plaintext highlighter-rouge">instanceof</code> operator (same reason as for class literals)</ul><hr /><h2 id="type-erasure"><span class="mr-2">Type Erasure</span><a href="#type-erasure" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>Finally, we are going to look at how generics really work under the hood. What does it mean that generics are only compile-time features and they do not exist in runtime?</p><p>During compilation, the Java compiler validates types in our code to make sure we don’t use Generic types in the wrong way. This is the point where we would get a compilation error if we misuse types.</p><p>After the <code class="language-plaintext highlighter-rouge">type check</code> step, all type arguments are erased. This leaves us with an <code class="language-plaintext highlighter-rouge">Object</code> as a type where we had type parameters, just as we would have in a case we used a <code class="language-plaintext highlighter-rouge">Raw type</code>.</p><p>In our <code class="language-plaintext highlighter-rouge">Tuple</code> example, after the compilation the class would essentially behave like this:</p><div class="language-java highlighter-rouge"><div class="code-header"> <span data-label-text="Java"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
</pre><td class="rouge-code"><pre><span class="kd">public</span> <span class="kd">class</span> <span class="nc">Tuple</span> <span class="o">{</span>

    <span class="kd">private</span> <span class="kd">final</span> <span class="nc">Object</span> <span class="n">firstMember</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kd">final</span> <span class="nc">Object</span> <span class="n">secondMember</span><span class="o">;</span>

    <span class="kd">public</span> <span class="nf">Tuple</span><span class="o">()</span> <span class="o">{</span>
        <span class="n">firstMember</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>
        <span class="n">secondMember</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="nf">Tuple</span><span class="o">(</span><span class="kd">final</span> <span class="nc">Object</span> <span class="n">firstMember</span><span class="o">,</span> <span class="kd">final</span> <span class="nc">Object</span> <span class="n">secondMember</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">this</span><span class="o">.</span><span class="na">firstMember</span> <span class="o">=</span> <span class="n">firstMember</span><span class="o">;</span>
        <span class="k">this</span><span class="o">.</span><span class="na">secondMember</span> <span class="o">=</span> <span class="n">secondMember</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="nc">Object</span> <span class="nf">getFirstMember</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">firstMember</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="nc">Object</span> <span class="nf">getSecondMember</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">secondMember</span><span class="o">;</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre></table></code></div></div><p>Now you may ask but if types are replaced by <code class="language-plaintext highlighter-rouge">Object</code>, what happens to all places in the code where we used this Generic type? Are we going to lose the information about the type argument that is used when this class was instantiated?</p><p>Well, it turns out that the compiler will insert an explicit type cast in all places that were using our generics type, so it will behave like this:</p><div class="language-java highlighter-rouge"><div class="code-header"> <span data-label-text="Java"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre><td class="rouge-code"><pre><span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">firstConsumer</span><span class="o">()</span> <span class="o">{</span>
    <span class="nc">Tuple</span> <span class="n">tuple</span> <span class="o">=</span> <span class="n">generateStringDateTuple</span><span class="o">();</span>
    <span class="nc">String</span> <span class="n">stringValue</span> <span class="o">=</span> <span class="o">(</span><span class="nc">String</span><span class="o">)</span> <span class="n">tuple</span><span class="o">.</span><span class="na">firstMember</span><span class="o">;</span>
    <span class="n">java</span><span class="o">.</span><span class="na">util</span><span class="o">.</span><span class="na">Date</span> <span class="n">date</span> <span class="o">=</span> <span class="o">(</span><span class="n">java</span><span class="o">.</span><span class="na">util</span><span class="o">.</span><span class="na">Date</span><span class="o">)</span> <span class="n">tuple</span><span class="o">.</span><span class="na">secondMember</span><span class="o">;</span>
<span class="o">}</span>
</pre></table></code></div></div><p>To summarize, the compiler feature <code class="language-plaintext highlighter-rouge">Type Erasure</code> is doing two things after compilation:</p><ul><li>erases all type parameters of generics, leaving <code class="language-plaintext highlighter-rouge">Object</code> as the type where type arguments were used<li>inserts explicit casting in places where generic types were used</ul><blockquote class="prompt-info"><div><p>In the final part of this series we will show that we can force Java compiler to use some type other than <code class="language-plaintext highlighter-rouge">Object</code> when doing type erasure by something called <code class="language-plaintext highlighter-rouge">bounds</code>.</p></div></blockquote><hr /><h2 id="invariance-in-java-generics"><span class="mr-2">Invariance in Java Generics</span><a href="#invariance-in-java-generics" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>This section contains a bit of theory on the type systems, so feel free to skip it if you want. Here are the key takeaways from this section:</p><ul><li>Java Generics are <code class="language-plaintext highlighter-rouge">invariant</code>, meaning you cannot substitute supertype or subtype of the type argument.<li>Java Arrays are <code class="language-plaintext highlighter-rouge">covariant</code>, thus allowing for some type casting errors to slip to runtime<li>Because of these facts, it’s recommended to use Generics instead of Arrays in Java when dealing with collections</ul><p>If you want to learn more details about <code class="language-plaintext highlighter-rouge">invariance</code> and <code class="language-plaintext highlighter-rouge">covariance</code>, just keep on reading 🙂.</p><h3 id="a-brief-overview-of-variance"><span class="mr-2">A brief overview of Variance</span><a href="#a-brief-overview-of-variance" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>Let’s now discuss an important topic of <code class="language-plaintext highlighter-rouge">variance</code> in Java. This will get more theoretical, but you will find it quite rewarding as it deepens your understanding of the nature of the <code class="language-plaintext highlighter-rouge">Generics</code> in Java.</p><p>As you already know, a type system in Java supports subtyping. It allows us to substitute a type with any of its subtypes.</p><p>But what happens if we have some type transformations, for example, <code class="language-plaintext highlighter-rouge">arrays</code> and <code class="language-plaintext highlighter-rouge">generics</code>? Do transformed types keep the same relations as their underlying types? Or do they somehow change that relation?</p><p>That behavior is defined by the <code class="language-plaintext highlighter-rouge">variance</code>. Each <code class="language-plaintext highlighter-rouge">type transformation</code> can have different <code class="language-plaintext highlighter-rouge">variance</code> and we’ll show an example soon.</p><blockquote class="prompt-danger"><div><p>It’s important to note that not all programming languages have the same <code class="language-plaintext highlighter-rouge">variance</code> for the same <code class="language-plaintext highlighter-rouge">type transformations</code>, but the concept is the same accross all languages. To give an example, in the <strong>OCaml</strong> programming language the <code class="language-plaintext highlighter-rouge">list</code> type constructor is <code class="language-plaintext highlighter-rouge">covariant</code>, whereas in <strong>Java</strong> the <code class="language-plaintext highlighter-rouge">List</code> generic type constructor is <code class="language-plaintext highlighter-rouge">invariant</code>.</p></div></blockquote><h3 id="types-of-variance"><span class="mr-2">Types of variance</span><a href="#types-of-variance" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>Let’s say that we have a type <code class="language-plaintext highlighter-rouge">A</code> and it is a subtype of type <code class="language-plaintext highlighter-rouge">B</code>. Also, we’ll denote subtype relation with a <code class="language-plaintext highlighter-rouge">≤</code> symbol.</p><p>If <code class="language-plaintext highlighter-rouge">f</code> is a <code class="language-plaintext highlighter-rouge">type transformation</code>, we can say the following:</p><ul><li><code class="language-plaintext highlighter-rouge">f</code> is <code class="language-plaintext highlighter-rouge">covariant</code> if <code class="language-plaintext highlighter-rouge">A ≤ B</code> implies that <code class="language-plaintext highlighter-rouge">f(A) ≤ f(B)</code><li><code class="language-plaintext highlighter-rouge">f</code> is <code class="language-plaintext highlighter-rouge">contravariant</code> if <code class="language-plaintext highlighter-rouge">A ≤ B</code> implies that <code class="language-plaintext highlighter-rouge">f(B) ≤ f(A)</code><li><code class="language-plaintext highlighter-rouge">f</code> is <code class="language-plaintext highlighter-rouge">bivariant</code> if both of these apply (i.e., if <code class="language-plaintext highlighter-rouge">A ≤ B</code>, implies that <code class="language-plaintext highlighter-rouge">f(A) ≡ f(B)</code>)<li><code class="language-plaintext highlighter-rouge">f</code> is <code class="language-plaintext highlighter-rouge">variant</code> if <code class="language-plaintext highlighter-rouge">f</code> is <code class="language-plaintext highlighter-rouge">covariant</code>, <code class="language-plaintext highlighter-rouge">contravariant</code> or <code class="language-plaintext highlighter-rouge">bivariant</code><li><code class="language-plaintext highlighter-rouge">f</code> is <code class="language-plaintext highlighter-rouge">invariant</code> or <code class="language-plaintext highlighter-rouge">nonvariant</code> if not <code class="language-plaintext highlighter-rouge">variant</code></ul><p>We’ll cover just what is relevant to our understanding of the <strong>Generics</strong> since this topic is huge and would require a series of articles for itself.</p><h3 id="java-array-vs-java-generic"><span class="mr-2">Java Array vs Java Generic</span><a href="#java-array-vs-java-generic" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>In Java, we have the following:</p><ul><li><code class="language-plaintext highlighter-rouge">Generics</code> are <code class="language-plaintext highlighter-rouge">invariant</code><li><code class="language-plaintext highlighter-rouge">Arrays</code> are <code class="language-plaintext highlighter-rouge">covariant</code></ul><h4 id="generics-are-invariant"><span class="mr-2">Generics are invariant</span><a href="#generics-are-invariant" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><p>Let’s walk through an example to understand the implications of these statements.</p><p>We’ll take <code class="language-plaintext highlighter-rouge">Animal</code> and <code class="language-plaintext highlighter-rouge">Dog</code> types.</p><p><code class="language-plaintext highlighter-rouge">Dog≤Animal</code> - we read this: <code class="language-plaintext highlighter-rouge">Dog</code> is subtype of <code class="language-plaintext highlighter-rouge">Animal</code>.</p><p>Since <code class="language-plaintext highlighter-rouge">Generics</code> are <code class="language-plaintext highlighter-rouge">invariant</code>, we know that:</p><ul><li><code class="language-plaintext highlighter-rouge">List&lt;Dog&gt;</code> is not a subtype of a <code class="language-plaintext highlighter-rouge">List&lt;Animal&gt;</code><li><code class="language-plaintext highlighter-rouge">List&lt;Animal&gt;</code> is not a subtype of a <code class="language-plaintext highlighter-rouge">List&lt;Dog&gt;</code></ul><p>Let’s see what would happen if the Generics were not invariant:</p><div class="language-java highlighter-rouge"><div class="code-header"> <span data-label-text="Java"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre><td class="rouge-code"><pre><span class="kt">void</span> <span class="nf">go</span><span class="o">(</span><span class="nc">ArrayList</span><span class="o">&lt;</span><span class="nc">Animal</span><span class="o">&gt;</span> <span class="n">animals</span><span class="o">)</span> <span class="o">{</span>
    <span class="n">animals</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="k">new</span> <span class="nc">Cat</span><span class="o">());</span>
<span class="o">}</span>

<span class="n">go</span> <span class="o">(</span><span class="k">new</span> <span class="nc">ArrayList</span><span class="o">&lt;</span><span class="nc">Dog</span><span class="o">&gt;());</span>
</pre></table></code></div></div><p>The <code class="language-plaintext highlighter-rouge">ClassCast Exception</code> would be thrown in runtime, because we cannot cast <code class="language-plaintext highlighter-rouge">Cat</code> to a <code class="language-plaintext highlighter-rouge">Dog</code>, as we could to <code class="language-plaintext highlighter-rouge">Animal</code>.</p><p>However, for the same <code class="language-plaintext highlighter-rouge">type argument</code>, inheritance of generic types is allowed:</p><p><code class="language-plaintext highlighter-rouge">ArrayList&lt;Dog&gt; ≤ List&lt;Dog&gt;</code> - <code class="language-plaintext highlighter-rouge">ArrayList&lt;Dog&gt;</code> is a subtype of <code class="language-plaintext highlighter-rouge">List&lt;Dog&gt;</code>, meaning that <code class="language-plaintext highlighter-rouge">ArrayList&lt;Dog&gt;</code> can be substituted where <code class="language-plaintext highlighter-rouge">List&lt;Dog&gt;</code> is expected.</p><p>If you think about it, it makes perfect sense. Generic types are transformed to Raw types after compilation and they should behave in the same way as non-Generic types, meaning they should be <code class="language-plaintext highlighter-rouge">covariant</code> as simple types are <code class="language-plaintext highlighter-rouge">covariant</code>.</p><p>Since type parameters for Generics are invariant in Java, we can say that Generics have much stricter type safety than Arrays, which we’ll see in a moment.</p><h4 id="arrays-are-covariant"><span class="mr-2">Arrays are covariant</span><a href="#arrays-are-covariant" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><p>On the other hand, since <code class="language-plaintext highlighter-rouge">Arrays</code> are <code class="language-plaintext highlighter-rouge">covariant</code>:</p><p><code class="language-plaintext highlighter-rouge">Dog[] ≤ Animal[]</code> - an array of the <code class="language-plaintext highlighter-rouge">Dog</code> objects is a subtype of an array of the <code class="language-plaintext highlighter-rouge">Animal</code> objects</p><p>Because of that, we can do:</p><div class="language-java highlighter-rouge"><div class="code-header"> <span data-label-text="Java"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="nc">Animal</span><span class="o">[]</span> <span class="n">animals</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Dog</span><span class="o">[</span><span class="mi">1</span><span class="o">];</span>
</pre></table></code></div></div><p>The same example as earlier:</p><div class="language-java highlighter-rouge"><div class="code-header"> <span data-label-text="Java"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre><td class="rouge-code"><pre><span class="kt">void</span> <span class="nf">go</span><span class="o">(</span><span class="nc">Animal</span><span class="o">[]</span> <span class="n">animals</span><span class="o">)</span> <span class="o">{</span>
    <span class="n">animals</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="k">new</span> <span class="nc">Cat</span><span class="o">());</span>
<span class="o">}</span>

<span class="n">go</span> <span class="o">(</span><span class="k">new</span> <span class="nc">Dog</span><span class="o">[</span><span class="mi">1</span><span class="o">]);</span>
</pre></table></code></div></div><p>This will throw <code class="language-plaintext highlighter-rouge">ArrayStoreException</code> (if the wrong type of object is stored in an array) in runtime.</p><p>If you wonder why Java Array is covariant, it’s a decision made by language designers to allow a different kind of polymorphism back in the days when there were no Generics.</p><blockquote class="prompt-info"><div><p>Due to the <code class="language-plaintext highlighter-rouge">invariance</code> property of the <code class="language-plaintext highlighter-rouge">Generic</code> and the <code class="language-plaintext highlighter-rouge">covariance</code> property of the <code class="language-plaintext highlighter-rouge">Array</code> in Java, it is strongly recommended to prefer <code class="language-plaintext highlighter-rouge">List</code> over <code class="language-plaintext highlighter-rouge">Array</code> in Java code.</p></div></blockquote><hr /><h2 id="restrictions-of-generics"><span class="mr-2">Restrictions of Generics</span><a href="#restrictions-of-generics" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>Let’s switch back to the practical aspect of Generics. Let’s have a look at some restrictions on Generics.</p><h3 id="type-argument-cannot-be-a-primitive"><span class="mr-2">Type argument cannot be a primitive</span><a href="#type-argument-cannot-be-a-primitive" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>It’s easy to understand why, once you understand how <code class="language-plaintext highlighter-rouge">Type Erasure</code> works. As we already showed, the Java compiler is doing Type Erasure during compilation, which means it replaces Generic Types with <code class="language-plaintext highlighter-rouge">Object</code> (or some of its subclasses, as we’ll show in the next part of the series).</p><p>Hence, primitive types could not be used as <code class="language-plaintext highlighter-rouge">type arguments</code>.</p><h3 id="type-parameters-cannot-be-used-in-a-static-context"><span class="mr-2">Type parameters cannot be used in a static context</span><a href="#type-parameters-cannot-be-used-in-a-static-context" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>The easiest way to understand this statement is to go through an example:</p><div class="language-java highlighter-rouge"><div class="code-header"> <span data-label-text="Java"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre><span class="kd">public</span> <span class="kd">class</span> <span class="nc">Inventory</span><span class="o">&lt;</span><span class="no">T</span><span class="o">&gt;</span> <span class="o">{</span>
    <span class="kd">private</span> <span class="kd">static</span> <span class="no">T</span> <span class="n">inventoryType</span><span class="o">;</span>
<span class="o">}</span>
</pre></table></code></div></div><p>This code will fail to compile. Let’s understand why is that. Say we would like to make 2 Inventory instances, one of <code class="language-plaintext highlighter-rouge">Packet</code> class and the other of <code class="language-plaintext highlighter-rouge">Letter</code> class:</p><div class="language-java highlighter-rouge"><div class="code-header"> <span data-label-text="Java"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre><span class="nc">Inventory</span><span class="o">&lt;</span><span class="nc">Packet</span><span class="o">&gt;</span> <span class="n">packetInventory</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Inventory</span><span class="o">&lt;&gt;();</span>
<span class="nc">Inventory</span><span class="o">&lt;</span><span class="nc">Letter</span><span class="o">&gt;</span> <span class="n">letterInventory</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Inventory</span><span class="o">&lt;&gt;();</span>
</pre></table></code></div></div><p>What should the static field of <code class="language-plaintext highlighter-rouge">Inventory</code> class be? Is it <code class="language-plaintext highlighter-rouge">Packet</code> or <code class="language-plaintext highlighter-rouge">Letter</code>?</p><p>And what if we didn’t create an instance of <code class="language-plaintext highlighter-rouge">Inventory</code> class at all?</p><p>Now it should be obvious that the type parameter <code class="language-plaintext highlighter-rouge">T</code> could not be resolved correctly in the case of the static field.</p><p>For the same reason, type parameters cannot be used in static methods and static initializers.</p><h3 id="method-overloading-with-different-type-arguments"><span class="mr-2">Method overloading with different type arguments</span><a href="#method-overloading-with-different-type-arguments" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>This is impossible due to Type Erasure:</p><div class="language-java highlighter-rouge"><div class="code-header"> <span data-label-text="Java"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre><span class="kd">public</span> <span class="nc">List</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="nf">get</span><span class="o">();</span>
<span class="kd">public</span> <span class="nc">List</span><span class="o">&lt;</span><span class="nc">Integer</span><span class="o">&gt;</span> <span class="nf">get</span><span class="o">();</span>
</pre></table></code></div></div><p>After type erasure, we would effectively get:</p><div class="language-java highlighter-rouge"><div class="code-header"> <span data-label-text="Java"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre><span class="kd">public</span> <span class="nc">List</span> <span class="nf">get</span><span class="o">();</span>
<span class="kd">public</span> <span class="nc">List</span> <span class="nf">get</span><span class="o">();</span>
</pre></table></code></div></div><p>And it’s invalid to have two methods with exactly the same signature</p><h3 id="method-overloading-with-type-parameter-and-object-type"><span class="mr-2">Method overloading with type parameter and Object type</span><a href="#method-overloading-with-type-parameter-and-object-type" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>This is invalid due to type erasure, as methods would have exactly the same signature:</p><div class="language-java highlighter-rouge"><div class="code-header"> <span data-label-text="Java"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
</pre><td class="rouge-code"><pre><span class="kd">class</span> <span class="nc">GenericsExample</span> <span class="o">&lt;</span><span class="no">T</span><span class="o">&gt;</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="no">T</span> <span class="nf">get</span><span class="o">(</span><span class="no">T</span> <span class="n">t</span><span class="o">){</span>
        <span class="k">return</span> <span class="n">t</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="nc">Object</span> <span class="nf">get</span><span class="o">(</span><span class="nc">Object</span> <span class="n">t</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">t</span><span class="o">;</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre></table></code></div></div><p>You should be able by now to figure out why this won’t compile 🙂.</p><h3 id="method-overloading-with-type-parameter-and-concrete-type"><span class="mr-2">Method overloading with type parameter and concrete type</span><a href="#method-overloading-with-type-parameter-and-concrete-type" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>Lastly, one tricky example.</p><p>This class definition is valid since after type erasure we don’t have a clash of method signatures</p><div class="language-java highlighter-rouge"><div class="code-header"> <span data-label-text="Java"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
</pre><td class="rouge-code"><pre><span class="kd">class</span> <span class="nc">GenericsExample</span> <span class="o">&lt;</span><span class="no">T</span><span class="o">&gt;</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="no">T</span> <span class="nf">get</span><span class="o">(</span><span class="no">T</span> <span class="n">t</span><span class="o">){</span>
        <span class="k">return</span> <span class="n">t</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="nc">String</span> <span class="nf">get</span><span class="o">(</span><span class="nc">String</span> <span class="n">t</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">t</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="nc">String</span> <span class="nf">getExtended</span><span class="o">(</span><span class="nc">String</span> <span class="n">t</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">t</span> <span class="o">+</span> <span class="s">" extended"</span><span class="o">;</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre></table></code></div></div><p>If you instantiate this class with an <code class="language-plaintext highlighter-rouge">Integer</code> type argument, everything will be fine. Java compiler will effectively produce two get methods with <code class="language-plaintext highlighter-rouge">Object</code> and <code class="language-plaintext highlighter-rouge">String</code> as a parameter and return type. Also, every call to the <code class="language-plaintext highlighter-rouge">get</code> method of the <code class="language-plaintext highlighter-rouge">Object</code> type is explicitly type-casted with the <code class="language-plaintext highlighter-rouge">Integer</code> class. There is a clear distinction between calls to those methods.</p><p>But let’s take a look at the case when you instantiate this class with <code class="language-plaintext highlighter-rouge">String</code> type argument.</p><p>Since type erasure will replace <code class="language-plaintext highlighter-rouge">T</code> with <code class="language-plaintext highlighter-rouge">Object</code> there is no method signatures collision as we’ve seen before, as we’ll have:</p><div class="language-java highlighter-rouge"><div class="code-header"> <span data-label-text="Java"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
</pre><td class="rouge-code"><pre><span class="kd">public</span> <span class="nc">Object</span> <span class="nf">get</span><span class="o">(</span><span class="nc">Object</span> <span class="n">t</span><span class="o">){</span>
    <span class="k">return</span> <span class="n">t</span><span class="o">;</span>
<span class="o">}</span>

<span class="kd">public</span> <span class="nc">String</span> <span class="nf">get</span><span class="o">(</span><span class="nc">String</span> <span class="n">t</span><span class="o">)</span> <span class="o">{</span>
    <span class="k">return</span> <span class="n">t</span><span class="o">;</span>
<span class="o">}</span>
</pre></table></code></div></div><p>And those method signatures are different.</p><p>But if there is an invocation of the <code class="language-plaintext highlighter-rouge">get</code> method in your code, a compiler will try to do explicit casting and at that point, it realizes that both <code class="language-plaintext highlighter-rouge">Object</code> and <code class="language-plaintext highlighter-rouge">String</code> versions of the <code class="language-plaintext highlighter-rouge">get</code> method would be eligible for this code.</p><p>So the compiler will give you a compilation error <strong>exactly</strong> in places where you use the <code class="language-plaintext highlighter-rouge">get</code> method as it is ambiguous.</p><p>Nonetheless, as we said you can instantiate this class with the <code class="language-plaintext highlighter-rouge">String</code> type argument and use other methods that are not ambiguous at the compile time, such as <code class="language-plaintext highlighter-rouge">getExtended</code> in our example.</p><p>To summarize:</p><ul><li>this class definition is valid<li>instantiation with any type argument is valid, even if that type is seemingly causing method signature collision<li>you can use all the methods from such <code class="language-plaintext highlighter-rouge">Generic</code> class, except for the one that causes method signature collision</ul><blockquote class="prompt-danger"><div><p>It is strongly recommended not to use such class definitions that causes compilation errors for certain type arguments only. At least you should provide distinct method names to mitigate the risk of falling into this kind of situations.</p></div></blockquote><hr /><p><a href="/posts/generics-in-java-part-1-of-3/">Generics in Java part 1 of 3</a></p></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/java/'>java</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/java/" class="post-tag no-text-decoration" >java</a> <a href="/tags/generics/" class="post-tag no-text-decoration" >generics</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/"> CC BY 4.0 </a> by the author.</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=Generics+in+Java+part+2+of+3+-+Borko+Rajkovic+Tech+Blog&url=https%3A%2F%2Fborkorajkovic.com%2F%2Fposts%2Fgenerics-in-java-part-2-of-3%2F" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=Generics+in+Java+part+2+of+3+-+Borko+Rajkovic+Tech+Blog&u=https%3A%2F%2Fborkorajkovic.com%2F%2Fposts%2Fgenerics-in-java-part-2-of-3%2F" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://t.me/share/url?url=https%3A%2F%2Fborkorajkovic.com%2F%2Fposts%2Fgenerics-in-java-part-2-of-3%2F&text=Generics+in+Java+part+2+of+3+-+Borko+Rajkovic+Tech+Blog" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <i id="copy-link" class="fa-fw fas fa-link small" data-toggle="tooltip" data-placement="top" title="Copy link" data-title-succeed="Link copied successfully!"> </i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted"><div class="access"><div id="access-lastmod" class="post"><div class="panel-heading">Recently Updated</div><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/posts/floyd-cycle-detection/">Floyd cycle detection</a><li><a href="/posts/generics-in-java-part-1-of-3/">Generics in Java part 1 of 3</a><li><a href="/posts/generics-in-java-part-2-of-3/">Generics in Java part 2 of 3</a><li><a href="/posts/sql-unique-vs-distinct/">SQL: NULL values in UNIQUE vs DISTINCT</a><li><a href="/posts/character-encoding-demystified/">Character Encoding Demystified: Everything you Need to Know About ASCII, Unicode, UTF-8</a></ul></div><div id="access-tags"><div class="panel-heading">Trending Tags</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/java/">java</a> <a class="post-tag" href="/tags/generics/">generics</a> <a class="post-tag" href="/tags/javascript/">javascript</a> <a class="post-tag" href="/tags/algorithms/">algorithms</a> <a class="post-tag" href="/tags/ascii/">ascii</a> <a class="post-tag" href="/tags/bash/">bash</a> <a class="post-tag" href="/tags/puzzle/">puzzle</a> <a class="post-tag" href="/tags/string/">string</a> <a class="post-tag" href="/tags/typescript/">typescript</a> <a class="post-tag" href="/tags/utf-16/">utf-16</a></div></div></div><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.js"></script><div id="toc-wrapper" class="pl-0 pr-4 mb-5"><div class="panel-heading pl-3 pt-2 mb-2">Contents</div><nav id="toc" data-toggle="toc"></nav></div></div></div><div class="row"><div id="tail-wrapper" class="col-12 col-lg-11 col-xl-9 pl-3 pr-3 pr-xl-4"><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>Further Reading</h3><div class="card-deck mb-4"><div class="card"> <a href="/posts/generics-in-java-part-1-of-3/"><div class="card-body"> <em class="small" data-ts="1664120040" data-df="ll" > Sep 25, 2022 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Generics in Java part 1 of 3</h3><div class="text-muted small"><p> In this series of articles, we’ll discuss Generics in Java. Here are links to all parts: Generics in Java part 1 of 3 Generics in Java part 2 of 3 Generics in Java part 3 of 3 Generics...</p></div></div></a></div><div class="card"> <a href="/posts/generics-in-java-part-3-of-3/"><div class="card-body"> <em class="small" data-ts="1665936420" data-df="ll" > Oct 16, 2022 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Generics in Java part 3 of 3</h3><div class="text-muted small"><p> This article is the third and final part of the series Generics in Java. Here are links to all parts: Generics in Java part 1 of 3 Generics in Java part 2 of 3 Generics in Java part 3 of...</p></div></div></a></div><div class="card"> <a href="/posts/typing-systems-explained/"><div class="card-body"> <em class="small" data-ts="1719945900" data-df="ll" > Jul 2, 2024 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Typing systems explained</h3><div class="text-muted small"><p> In the realm of programming languages and type systems, understanding how types are enforced and interpreted is crucial for writing robust and maintainable code. Three common approaches to type che...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/posts/generics-in-java-part-1-of-3/" class="btn btn-outline-primary" prompt="Older"><p>Generics in Java part 1 of 3</p></a> <a href="/posts/generics-in-java-part-3-of-3/" class="btn btn-outline-primary" prompt="Newer"><p>Generics in Java part 3 of 3</p></a></div><script type="text/javascript"> $(function () { const origin = "https://giscus.app"; const iframe = "iframe.giscus-frame"; const lightTheme = "light"; const darkTheme = "dark_dimmed"; let initTheme = lightTheme; if ($("html[data-mode=dark]").length > 0 || ($("html[data-mode]").length == 0 && window.matchMedia("(prefers-color-scheme: dark)").matches)) { initTheme = darkTheme; } let giscusAttributes = { "src": "https://giscus.app/client.js", "data-repo": "borko-rajkovic/borko-rajkovic.github.io", "data-repo-id": "R_kgDOHosKmQ", "data-category": "", "data-category-id": "DIC_kwDOHosKmc4CQJ0g", "data-mapping": "pathname", "data-reactions-enabled": "1", "data-emit-metadata": "0", "data-theme": initTheme, "data-input-position": "bottom", "data-lang": "en", "crossorigin": "anonymous", "async": "" }; let giscusScript = document.createElement("script"); Object.entries(giscusAttributes).forEach(([key, value]) => giscusScript.setAttribute(key, value)); document.getElementById("tail-wrapper").appendChild(giscusScript); addEventListener("message", (event) => { if (event.source === window && event.data && event.data.direction === ModeToggle.ID) { /* global theme mode changed */ const mode = event.data.message; const theme = (mode === ModeToggle.DARK_MODE ? darkTheme : lightTheme); const message = { setConfig: { theme: theme } }; const giscus = document.querySelector(iframe).contentWindow; giscus.postMessage({ giscus: message }, origin); } }); }); </script></div></div><footer class="row pl-3 pr-3"><div class="col-12 d-flex justify-content-between align-items-center text-muted pl-0 pr-0"><div class="footer-left"><p class="mb-0"> © 2025 <a href="https://twitter.com/borko_88">Borko Rajković</a>. <span data-toggle="tooltip" data-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author.">Some rights reserved.</span></p></div><div class="footer-right"><p class="mb-0"> Powered by <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> with <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a> theme.</p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"><div id="access-tags"><div class="panel-heading">Trending Tags</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/java/">java</a> <a class="post-tag" href="/tags/generics/">generics</a> <a class="post-tag" href="/tags/javascript/">javascript</a> <a class="post-tag" href="/tags/algorithms/">algorithms</a> <a class="post-tag" href="/tags/ascii/">ascii</a> <a class="post-tag" href="/tags/bash/">bash</a> <a class="post-tag" href="/tags/puzzle/">puzzle</a> <a class="post-tag" href="/tags/string/">string</a> <a class="post-tag" href="/tags/typescript/">typescript</a> <a class="post-tag" href="/tags/utf-16/">utf-16</a></div></div></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a> <script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No results found.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script> <script src="https://cdn.jsdelivr.net/combine/npm/magnific-popup@1/dist/jquery.magnific-popup.min.js,npm/lozad/dist/lozad.min.js,npm/clipboard@2/dist/clipboard.min.js"></script> <script src="https://cdn.jsdelivr.net/combine/npm/dayjs@1/dayjs.min.js,npm/dayjs@1/locale/en.min.js,npm/dayjs@1/plugin/relativeTime.min.js,npm/dayjs@1/plugin/localizedFormat.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/js/bootstrap.bundle.min.js"></script> <script defer src="/unregister.js"></script>
