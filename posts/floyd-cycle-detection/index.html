<!DOCTYPE html><html lang="en" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="generator" content="Jekyll v4.2.2" /><meta property="og:title" content="Floyd cycle detection" /><meta name="author" content="Borko Rajkoviƒá" /><meta property="og:locale" content="en" /><meta name="description" content="To check for the existence of a cycle in Linked List, you can use Floyd cycle detection (tortoise and hare algorithm). I created a mini-game that shows the use of Floyd cycle detection, you can check it out here: https://tile-walker.web.app/" /><meta property="og:description" content="To check for the existence of a cycle in Linked List, you can use Floyd cycle detection (tortoise and hare algorithm). I created a mini-game that shows the use of Floyd cycle detection, you can check it out here: https://tile-walker.web.app/" /><link rel="canonical" href="https://borkorajkovic.com//posts/floyd-cycle-detection/" /><meta property="og:url" content="https://borkorajkovic.com//posts/floyd-cycle-detection/" /><meta property="og:site_name" content="Borko Rajkovic Tech Blog" /><meta property="og:image" content="https://borkorajkovic.com//assets/img/posts/2022-08-21-floyd-cycle-detection/thumbnail.png" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2022-08-21T10:10:00+02:00" /><meta name="twitter:card" content="summary_large_image" /><meta property="twitter:image" content="https://borkorajkovic.com//assets/img/posts/2022-08-21-floyd-cycle-detection/thumbnail.png" /><meta property="twitter:title" content="Floyd cycle detection" /><meta name="twitter:site" content="@borko_88" /><meta name="twitter:creator" content="@borko_88" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"Borko Rajkoviƒá","url":"https://www.linkedin.com/in/borko-rajkovic/"},"dateModified":"2023-02-12T11:29:52+01:00","datePublished":"2022-08-21T10:10:00+02:00","description":"To check for the existence of a cycle in Linked List, you can use Floyd cycle detection (tortoise and hare algorithm). I created a mini-game that shows the use of Floyd cycle detection, you can check it out here: https://tile-walker.web.app/","headline":"Floyd cycle detection","image":"https://borkorajkovic.com//assets/img/posts/2022-08-21-floyd-cycle-detection/thumbnail.png","mainEntityOfPage":{"@type":"WebPage","@id":"https://borkorajkovic.com//posts/floyd-cycle-detection/"},"url":"https://borkorajkovic.com//posts/floyd-cycle-detection/"}</script><title>Floyd cycle detection | Borko Rajkovic Tech Blog</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="Borko Rajkovic Tech Blog"><meta name="application-name" content="Borko Rajkovic Tech Blog"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link rel="dns-prefetch" href="https://fonts.gstatic.com" crossorigin><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://cdn.jsdelivr.net" ><link rel="dns-prefetch" href="https://cdn.jsdelivr.net" ><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Lato&family=Source+Sans+Pro:wght@400;600;700;900&display=swap"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1/dist/magnific-popup.min.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script> <script type="text/javascript"> class ModeToggle { static get MODE_KEY() { return "mode"; } static get MODE_ATTR() { return "data-mode"; } static get DARK_MODE() { return "dark"; } static get LIGHT_MODE() { return "light"; } static get ID() { return "mode-toggle"; } constructor() { if (this.hasMode) { if (this.isDarkMode) { if (!this.isSysDarkPrefer) { this.setDark(); } } else { if (this.isSysDarkPrefer) { this.setLight(); } } } let self = this; /* always follow the system prefers */ this.sysDarkPrefers.addEventListener("change", () => { if (self.hasMode) { if (self.isDarkMode) { if (!self.isSysDarkPrefer) { self.setDark(); } } else { if (self.isSysDarkPrefer) { self.setLight(); } } self.clearMode(); } self.notify(); }); } /* constructor() */ get sysDarkPrefers() { return window.matchMedia("(prefers-color-scheme: dark)"); } get isSysDarkPrefer() { return this.sysDarkPrefers.matches; } get isDarkMode() { return this.mode === ModeToggle.DARK_MODE; } get isLightMode() { return this.mode === ModeToggle.LIGHT_MODE; } get hasMode() { return this.mode != null; } get mode() { return sessionStorage.getItem(ModeToggle.MODE_KEY); } /* get the current mode on screen */ get modeStatus() { if (this.isDarkMode || (!this.hasMode && this.isSysDarkPrefer)) { return ModeToggle.DARK_MODE; } else { return ModeToggle.LIGHT_MODE; } } setDark() { $('html').attr(ModeToggle.MODE_ATTR, ModeToggle.DARK_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); } setLight() { $('html').attr(ModeToggle.MODE_ATTR, ModeToggle.LIGHT_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); } clearMode() { $('html').removeAttr(ModeToggle.MODE_ATTR); sessionStorage.removeItem(ModeToggle.MODE_KEY); } /* Notify another plugins that the theme mode has changed */ notify() { window.postMessage({ direction: ModeToggle.ID, message: this.modeStatus }, "*"); } } /* ModeToggle */ const toggle = new ModeToggle(); function flipMode() { if (toggle.hasMode) { if (toggle.isSysDarkPrefer) { if (toggle.isLightMode) { toggle.clearMode(); } else { toggle.setLight(); } } else { if (toggle.isDarkMode) { toggle.clearMode(); } else { toggle.setDark(); } } } else { if (toggle.isSysDarkPrefer) { toggle.setLight(); } else { toggle.setDark(); } } toggle.notify(); } /* flipMode() */ </script><body data-spy="scroll" data-target="#toc" data-topbar-visible="true"><div id="sidebar" class="d-flex flex-column align-items-end"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" class="mx-auto"> <img src="https://pbs.twimg.com/profile_images/1484588464163196934/-F7h8gIt_400x400.jpg" alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title mt-3"> <a href="/">Borko Rajkovic Tech Blog</a></div><div class="site-subtitle font-italic">Simple blog about software development</div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tag ml-xl-3 mr-xl-3 unloaded"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info-circle ml-xl-3 mr-xl-3 unloaded"></i> <span>ABOUT</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center align-items-center"> <button class="mode-toggle btn" aria-label="Switch Mode"> <i class="fas fa-adjust"></i> </button> <span class="icon-border"></span> <a href="https://github.com/borko-rajkovic" aria-label="github" target="_blank" rel="noopener"> <i class="fab fa-github"></i> </a> <a href="https://twitter.com/borko_88" aria-label="twitter" target="_blank" rel="noopener"> <i class="fab fa-twitter"></i> </a> <a href=" javascript:location.href = 'mailto:' + ['rajkovicborko','gmail.com'].join('@')" aria-label="email" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" aria-label="rss" > <i class="fas fa-rss"></i> </a></div></div><div id="topbar-wrapper"><div id="topbar" class="container d-flex align-items-center justify-content-between h-100 pl-3 pr-3 pl-md-4 pr-md-4"> <span id="breadcrumb"> <span> <a href="/"> Home </a> </span> <span>Floyd cycle detection</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="Search..."> </span> <span id="search-cancel" >Cancel</span></div></div><div id="main-wrapper" class="d-flex justify-content-center"><div id="main" class="container pl-xl-4 pr-xl-4"><div class="row"><div id="core-wrapper" class="col-12 col-lg-11 col-xl-9 pr-xl-4"><div class="post pl-1 pr-1 pl-md-2 pr-md-2"><h1 data-toc-skip>Floyd cycle detection</h1><div class="post-meta text-muted"> <span> Posted <em class="" data-ts="1661069400" data-df="ll" data-toggle="tooltip" data-placement="bottom"> Aug 21, 2022 </em> </span> <span> Updated <em class="" data-ts="1676197792" data-df="ll" data-toggle="tooltip" data-placement="bottom"> Feb 12, 2023 </em> </span><div class="d-flex justify-content-between"> <span> By <em> <a href="https://www.linkedin.com/in/borko-rajkovic/">Borko Rajkoviƒá</a> </em> </span><div> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="1764 words"> <em>9 min</em> read</span></div></div></div><div class="post-content"><h2 id="tldr"><span class="mr-2">TL;DR</span><a href="#tldr" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>To check for the existence of a cycle in Linked List, you can use Floyd cycle detection (tortoise and hare algorithm).</p><p>I created a mini-game <strong>Tile walker</strong> üèÉ‚Äç‚ôÇÔ∏è that shows the use of Floyd cycle detection, you can check it out <a href="https://tile-walker.web.app/" target="_blank">here</a>.</p><p><img data-src="/assets/img/posts/2022-08-21-floyd-cycle-detection/thumbnail_2.png" alt="Floyd cycle detection" data-proofer-ignore></p><hr /><h2 id="linked-list-data-structure"><span class="mr-2"><strong>Linked list</strong> data structure</span><a href="#linked-list-data-structure" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p><strong>Linked list</strong> is one of the simplest data structures. The idea behind it is to make related objects connect by holding a pointer or a reference to the next object in a collection.</p><p>There are three main types of <code class="language-plaintext highlighter-rouge">Linked List</code>:</p><ul><li><strong>Simple Linked List</strong> - each member contains information about the next member in the list (if it exists) with a <code class="language-plaintext highlighter-rouge">next</code> pointer/reference. The last element‚Äôs <code class="language-plaintext highlighter-rouge">next</code> pointer points to <code class="language-plaintext highlighter-rouge">null</code>.<li><strong>Doubly Linked List</strong> - same as <strong>Simple Linked List</strong>, with additional <code class="language-plaintext highlighter-rouge">previous</code> pointer/reference that points to a previous member of the list. The first element‚Äôs <code class="language-plaintext highlighter-rouge">previous</code> pointer points to <code class="language-plaintext highlighter-rouge">null</code>.<li><strong>Circular Linked List</strong> - same as <strong>Doubly Linked List</strong>, but <code class="language-plaintext highlighter-rouge">previous</code> pointer of the first element in the list points to the last element in the list, and the last element‚Äôs <code class="language-plaintext highlighter-rouge">next</code> pointer points to the first element in the list, effectively connecting the list into a loop.</ul><p>We are going to use a <strong>Simple Linked List</strong> for the problem we are going to present.</p><hr /><h2 id="traversal-of-the-linked-list"><span class="mr-2">Traversal of the Linked List</span><a href="#traversal-of-the-linked-list" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>Let‚Äôs take an example of a simple <strong>Linked List</strong> of integers:</p><p><img data-src="/assets/img/posts/2022-08-21-floyd-cycle-detection/Simple_Linked_List.png" alt="Simple Linked List" class="shadow" style="max-width: 280px; width: 90%" data-proofer-ignore> <em>Simple Linked List</em></p><p>Traversal is very simple. We start from the first member, take its value and go on to the next member following the pointer, until the pointer of the member points to null.</p><p>In this way we are getting the following result:</p><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span data-label-text="Plaintext"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>805, 248, 324, 123, 518
</pre></table></code></div></div><hr /><h2 id="linked-list-cycle-detection"><span class="mr-2">Linked List cycle detection</span><a href="#linked-list-cycle-detection" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>Linked List is not always going exclusively forward. Sometimes you need to point to a member in a list that already exists.</p><p>For example:</p><p><img data-src="/assets/img/posts/2022-08-21-floyd-cycle-detection/Linked_List_with_a_cycle.png" alt="Linked List with a cycle" class="shadow" style="max-width: 280px; width: 90%" data-proofer-ignore> <em>Linked List with a cycle</em></p><p>As we can see in this example, this <strong>Linked List</strong> does not have an end member, as all members of the list point to some other member, and none of them points to <code class="language-plaintext highlighter-rouge">null</code>.</p><p>While traversing the list, you will repeatedly walk over the same list members:</p><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span data-label-text="Plaintext"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
</pre><td class="rouge-code"><pre>Start process
Wait for input
Verify input
Process input
Notify user
Wait for input
Verify input
...
</pre></table></code></div></div><p>In this example members from id <code class="language-plaintext highlighter-rouge">1</code> to id <code class="language-plaintext highlighter-rouge">4</code> are connected in a loop, or in other words, they are forming a <code class="language-plaintext highlighter-rouge">cycle</code>.</p><p>Here one natural question arises: how can we detect the existence of a <code class="language-plaintext highlighter-rouge">cycle</code> in a <strong>Linked List</strong>?</p><p>The problem is formally known as <code class="language-plaintext highlighter-rouge">The cycle detection</code> problem.</p><hr /><h2 id="naive-approach"><span class="mr-2">Naive approach</span><a href="#naive-approach" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>The easiest solution that can be implemented is to save pointers to a list of members as we traverse the Linked List. In every iteration, we are checking if the pointer to that list member is already present in our set of pointers.</p><p>Here is the naive approach for the example above:</p><div class="table-wrapper"><table><thead><tr><th>iteration<th>current set state<th>current id<th>element was in set<tbody><tr><td>1<td>[]<td>0<td>no<tr><td>2<td>[0]<td>1<td>no<tr><td>3<td>[0, 1]<td>2<td>no<tr><td>4<td>[0, 1, 2]<td>3<td>no<tr><td>5<td>[0, 1, 2, 3]<td>4<td>no<tr><td>6<td>[0, 1, 2, 3, 4]<td>1<td>yes</table></div><p>As we can see, we are expanding our set of pointers until we come across the pointer that is already present in the set, or we come across a null pointer, which means that list is cycle-free.</p><hr /><h3 id="complexity-analysis"><span class="mr-2">Complexity analysis</span><a href="#complexity-analysis" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>Complexity analysis is very simple for this algorithm:</p><p><strong>Time complexity</strong> is <code class="language-plaintext highlighter-rouge">O(N)</code>, because we need to traverse all list members and this is the low as we can get, so this is already the greatest time complexity.</p><p><strong>Space complexity</strong> is <code class="language-plaintext highlighter-rouge">O(N)</code>, because in the worst case we need to store all list elements in the set until we get to the end of the list that does not have <code class="language-plaintext highlighter-rouge">cycle</code> in itself.</p><p>As we can see from the analysis, we can affect only <strong>space complexity</strong>.</p><hr /><h2 id="floyd-cycle-detection"><span class="mr-2">Floyd cycle detection</span><a href="#floyd-cycle-detection" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>The algorithm that was introduced by <strong>Robert Floyd</strong> is using 2 pointers with which <strong>Linked List</strong> is traversed in <code class="language-plaintext highlighter-rouge">O(N)</code> time, but since we are using exactly 2 pointers, space complexity is going to be constant, or <code class="language-plaintext highlighter-rouge">O(1)</code>.</p><p>Let‚Äôs see how it works.</p><p>Both pointers start from the beginning of the list. The first pointer advances <strong>one step</strong> per iteration, whereas the second pointer advances <strong>two steps</strong> per iteration. If the faster pointer comes across a <code class="language-plaintext highlighter-rouge">null</code> pointer, it means that <code class="language-plaintext highlighter-rouge">Linked List</code> does not have a cycle in it. Otherwise, these two pointers will meet at some moment and they will point to the same list member, hence proving that there is a cycle.</p><p>We can show how it works in an example from above:</p><div class="table-wrapper"><table><thead><tr><th>iteration<th>first pointer<th>second pointer<tbody><tr><td>1<td>0<td>0<tr><td>2<td>1<td>2<tr><td>3<td>2<td>4<tr><td>4<td>3<td>2<tr><td>5<td>4<td>4</table></div><p>Here you can see the demo animation:</p><p><img data-src="/assets/img/posts/2022-08-21-floyd-cycle-detection/iterations.gif" alt="Floyd cycle detection iterations" class="shadow" style="max-width: 400px; width: 90%" data-proofer-ignore> <em>Floyd cycle detection iterations</em></p><hr /><h2 id="finding-the-beginning-of-the-cycle"><span class="mr-2">Finding the beginning of the cycle</span><a href="#finding-the-beginning-of-the-cycle" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>If there is a <code class="language-plaintext highlighter-rouge">cycle</code> in a LinkedList, we can find out the start of the cycle in the following way:</p><ul><li>reset one pointer to the start of the <strong>Linked List</strong><li>advance both pointers at the same speed (1 list member per iteration) until they meet<li>their meeting point is the start of the <code class="language-plaintext highlighter-rouge">cycle</code></ul><p>That explanation is probably counter-intuitive, so let‚Äôs try to explain what exactly happens here:</p><p><img data-src="/assets/img/posts/2022-08-21-floyd-cycle-detection/cycle_start_calculation.png" alt="Cycle start calculation" class="shadow" style="max-width: 500px; width: 90%" data-proofer-ignore> <em>Cycle start calculation</em></p><blockquote class="prompt-warning"><div><p>For simplicity, the formula we are going to derive here works only for cases where <code class="language-plaintext highlighter-rouge">X &lt;= C</code>. Later we‚Äôll cover the general formula, you can check it <a href="#what-if-x--c">here</a></p></div></blockquote><p>Let‚Äôs express the distance traveled by both slow and fast pointers before they meet each other:</p><p><code class="language-plaintext highlighter-rouge">slow_pointer_distance = X + Y</code></p><p><code class="language-plaintext highlighter-rouge">fast_pointer_distance = (X + Y + Z) + Y = X + 2Y + Z</code></p><p>We know that the slow pointer is exactly 2 times slower than the fast pointer. So, when they meet, the fast pointer must travel 2 times greater distance:</p><p><code class="language-plaintext highlighter-rouge">fast_pointer_distance = 2 X slow_pointer_distance</code></p><p>With the given equations above, we get:</p><p><code class="language-plaintext highlighter-rouge">X + 2Y + Z = 2 (X + Y)</code></p><p><code class="language-plaintext highlighter-rouge">X + 2Y + Z = 2X + 2Y</code></p><p><code class="language-plaintext highlighter-rouge">X + Z = 2X</code></p><p><code class="language-plaintext highlighter-rouge">X = Z</code></p><p>If we translate <code class="language-plaintext highlighter-rouge">X</code> and <code class="language-plaintext highlighter-rouge">Z</code> for what they really are, we get:</p><p>distance from <code class="language-plaintext highlighter-rouge">First node</code> to <code class="language-plaintext highlighter-rouge">Cycle start</code> == distance from <code class="language-plaintext highlighter-rouge">Pointer meeting point</code> to <code class="language-plaintext highlighter-rouge">Cycle start</code></p><p>Now it should be clear that if we move one pointer to the first node and move pointers at the same speed (one step per iteration), they will meet at the Cycle start!</p><p><img data-src="/assets/img/posts/2022-08-21-floyd-cycle-detection/finding_cycle_start.gif" alt="Finding cycle start" class="shadow" style="max-width: 90%" data-proofer-ignore> <em>Finding Cycle start</em></p><hr /><h2 id="calculating-length-of-the-cycle"><span class="mr-2">Calculating length of the cycle</span><a href="#calculating-length-of-the-cycle" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>Once we know the starting point of the <code class="language-plaintext highlighter-rouge">cycle</code>, we can calculate its length in a very simple way.</p><p>All we need to do is to:</p><ul><li>start with both pointers from the start of the <code class="language-plaintext highlighter-rouge">cycle</code><li>traverse with another pointer until we meet the fixed pointer</ul><p>Simple as that üòÉ</p><p><img data-src="/assets/img/posts/2022-08-21-floyd-cycle-detection/cycle_length.gif" alt="Cycle length" class="shadow" style="max-width: 90%" data-proofer-ignore> <em>Cycle length</em></p><hr /><h2 id="what-if-x--c"><span class="mr-2">What if X &gt; C</span><a href="#what-if-x--c" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>In the example above we assumed that <code class="language-plaintext highlighter-rouge">X &lt;= C</code>. In case that <code class="language-plaintext highlighter-rouge">X &gt; C</code>, the formula would change a bit, since the <code class="language-plaintext highlighter-rouge">fast</code> pointer can make <code class="language-plaintext highlighter-rouge">N</code> number of cycle traversals until it finally meets the <code class="language-plaintext highlighter-rouge">slow</code> pointer, where <code class="language-plaintext highlighter-rouge">N &gt; 1</code> (in general case <code class="language-plaintext highlighter-rouge">N</code> cannot be lower than <code class="language-plaintext highlighter-rouge">1</code> since faster pointer will go with <code class="language-plaintext highlighter-rouge">2X</code> speed the slow pointer, so it will for sure make at least one round trip of the cycle if the cycle exists).</p><p>The fast pointer would travel:</p><p><code class="language-plaintext highlighter-rouge">X + N * C + Y</code></p><p>And the slow pointer is covering the distance of:</p><p><code class="language-plaintext highlighter-rouge">X + Y</code></p><p>Since the fast pointer covers 2 times the distance of the slow pointer, we get the following equation:</p><p><code class="language-plaintext highlighter-rouge">2 (X + Y) = X + N*C + Y</code></p><p><code class="language-plaintext highlighter-rouge">2X + 2Y = X + N*C + Y</code></p><p><code class="language-plaintext highlighter-rouge">X + Y = N*C</code></p><p><code class="language-plaintext highlighter-rouge">X = N*C - Y</code></p><p>Rewrite <code class="language-plaintext highlighter-rouge">N*C</code> as <code class="language-plaintext highlighter-rouge">(N - 1) C + C</code>, and then <code class="language-plaintext highlighter-rouge">(N - 1) C + (Y + Z)</code></p><p><code class="language-plaintext highlighter-rouge">X = (N - 1) C + (Y + Z)- Y</code></p><p>And finally, we get the general formula for all cases:</p><p><code class="language-plaintext highlighter-rouge">X = (N - 1) C + Z</code></p><p>We can notice that for <code class="language-plaintext highlighter-rouge">N == 1</code>, we get the same as before: <code class="language-plaintext highlighter-rouge">X = Z</code></p><p>But what this really means is that distance <code class="language-plaintext highlighter-rouge">X</code> is the same as the number of cycles <code class="language-plaintext highlighter-rouge">N-1</code> that fast pointer travels + distance <code class="language-plaintext highlighter-rouge">Z</code>. So when advancing one pointer from the start of the list, and another from their meeting point, the second one will travel <code class="language-plaintext highlighter-rouge">N-1</code> cycles and then meet the first pointer at the start of the cycle.</p><p>It doesn‚Äôt matter if you didn‚Äôt quite catch all of this, here is the demo that can help you out üôÇ</p><p><img data-src="/assets/img/posts/2022-08-21-floyd-cycle-detection/when_x_greater_than_y_plus_z.gif" alt="When X &gt; C" class="shadow" style="max-width: 90%" data-proofer-ignore> <em>When X &gt; C</em></p><hr /><h2 id="when-cycle-start-node--pointers-meeting-point"><span class="mr-2">When Cycle start node == Pointers Meeting point</span><a href="#when-cycle-start-node--pointers-meeting-point" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>There is a case where the <code class="language-plaintext highlighter-rouge">cycle start</code> node is the same node as the <code class="language-plaintext highlighter-rouge">pointers meeting point</code> node.</p><p>In such a case, we have:</p><p><code class="language-plaintext highlighter-rouge">slow_pointer_distance = X</code></p><p><code class="language-plaintext highlighter-rouge">fast_pointer_distance = X + N*C</code></p><p>Since <code class="language-plaintext highlighter-rouge">fast</code> pointer is covering <code class="language-plaintext highlighter-rouge">2X</code> distance of <code class="language-plaintext highlighter-rouge">slow</code> pointer, we have:</p><p><code class="language-plaintext highlighter-rouge">2*X = X + N*C</code></p><p><code class="language-plaintext highlighter-rouge">X = N*C</code></p><p>This means that distance from the start of the list to the start of the cycle is exactly the distance <code class="language-plaintext highlighter-rouge">fast</code> pointer traveled around the cycle üòÉ!</p><p>In other words, whenever <code class="language-plaintext highlighter-rouge">X</code> is an exact multiple of cycle length <code class="language-plaintext highlighter-rouge">C</code>, we know that the <code class="language-plaintext highlighter-rouge">pointers meeting point</code> and the <code class="language-plaintext highlighter-rouge">cycle start</code> nodes are the same node.</p><p><img data-src="/assets/img/posts/2022-08-21-floyd-cycle-detection/when_meeting_point_is_same_as_cycle_start.png" alt="When Meeting point is same as Cycle start" class="shadow" style="max-width: 90%" data-proofer-ignore> <em>When Meeting point is same as Cycle start</em></p><hr /><h2 id="tile-walker---mini-game"><span class="mr-2">Tile Walker - mini game</span><a href="#tile-walker---mini-game" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>Here is an educative mini-game <strong>Tile Walker</strong> that is using <code class="language-plaintext highlighter-rouge">Floyd cycle detection</code> to detect cycle in a <strong>Linked List</strong> in order to conclude that <strong>Tile Walker</strong> has exhausted all tiles it will walk over in a game.</p><p><img data-src="/assets/img/posts/2022-08-21-floyd-cycle-detection/thumbnail_2.png" alt="Floyd cycle detection game" data-proofer-ignore></p><p>You can check out the game <a href="https://tile-walker.web.app/">here</a>.</p><p>And code can be found <a href="https://github.com/borko-rajkovic/tile-walker">here</a>.</p><h3 id="rules"><span class="mr-2">Rules</span><a href="#rules" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>The player is walking in the same direction until he comes across an obstacle. Then it will make a turn of 90 degrees and continue walking in that direction.</p><p>The goal is to set up the board, so the <strong>Tile Walker</strong> can cover as many tiles as possible.</p><h3 id="where-floyd-cycle-detection-is-used-here"><span class="mr-2">Where <strong>Floyd cycle detection</strong> is used here?</span><a href="#where-floyd-cycle-detection-is-used-here" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>When a player starts the game, it will simulate how <strong>Tile Walker</strong> is going over the playfield. Once it‚Äôs not able to cover more tiles, the game stops. To detect when this happens, we use <strong>Floyd cycle detection</strong>, but with a twist, since we need to compare not just the location of the player, but its direction as well.</p><p>For more info, please check out the repo <a href="https://github.com/borko-rajkovic/tile-walker">here</a>.</p></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/algorithms/'>algorithms</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/algorithms/" class="post-tag no-text-decoration" >algorithms</a> <a href="/tags/cycle-detection/" class="post-tag no-text-decoration" >cycle detection</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/"> CC BY 4.0 </a> by the author.</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=Floyd+cycle+detection+-+Borko+Rajkovic+Tech+Blog&url=https%3A%2F%2Fborkorajkovic.com%2F%2Fposts%2Ffloyd-cycle-detection%2F" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=Floyd+cycle+detection+-+Borko+Rajkovic+Tech+Blog&u=https%3A%2F%2Fborkorajkovic.com%2F%2Fposts%2Ffloyd-cycle-detection%2F" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://t.me/share/url?url=https%3A%2F%2Fborkorajkovic.com%2F%2Fposts%2Ffloyd-cycle-detection%2F&text=Floyd+cycle+detection+-+Borko+Rajkovic+Tech+Blog" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <i id="copy-link" class="fa-fw fas fa-link small" data-toggle="tooltip" data-placement="top" title="Copy link" data-title-succeed="Link copied successfully!"> </i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted"><div class="access"><div id="access-lastmod" class="post"><div class="panel-heading">Recently Updated</div><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/posts/floyd-cycle-detection/">Floyd cycle detection</a><li><a href="/posts/generics-in-java-part-1-of-3/">Generics in Java part 1 of 3</a><li><a href="/posts/generics-in-java-part-2-of-3/">Generics in Java part 2 of 3</a><li><a href="/posts/sql-unique-vs-distinct/">SQL: NULL values in UNIQUE vs DISTINCT</a><li><a href="/posts/character-encoding-demystified/">Character Encoding Demystified: Everything you Need to Know About ASCII, Unicode, UTF-8</a></ul></div><div id="access-tags"><div class="panel-heading">Trending Tags</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/java/">java</a> <a class="post-tag" href="/tags/generics/">generics</a> <a class="post-tag" href="/tags/javascript/">javascript</a> <a class="post-tag" href="/tags/algorithms/">algorithms</a> <a class="post-tag" href="/tags/ascii/">ascii</a> <a class="post-tag" href="/tags/bash/">bash</a> <a class="post-tag" href="/tags/puzzle/">puzzle</a> <a class="post-tag" href="/tags/string/">string</a> <a class="post-tag" href="/tags/typescript/">typescript</a> <a class="post-tag" href="/tags/utf-16/">utf-16</a></div></div></div><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.js"></script><div id="toc-wrapper" class="pl-0 pr-4 mb-5"><div class="panel-heading pl-3 pt-2 mb-2">Contents</div><nav id="toc" data-toggle="toc"></nav></div></div></div><div class="row"><div id="tail-wrapper" class="col-12 col-lg-11 col-xl-9 pl-3 pr-3 pr-xl-4"><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>Further Reading</h3><div class="card-deck mb-4"><div class="card"> <a href="/posts/modulo-vs-remainder/"><div class="card-body"> <em class="small" data-ts="1676238480" data-df="ll" > Feb 12, 2023 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Modulo vs Remainder</h3><div class="text-muted small"><p> Once I had to migrate an application from Python to Javascript. Even though the code was copied almost exactly, tests were failing. After some time I finally found out that the % operator is not th...</p></div></div></a></div><div class="card"> <a href="/posts/building-linux-from-scratch/"><div class="card-body"> <em class="small" data-ts="1746518700" data-df="ll" > May 6, 2025 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Building Linux From Scratch: A Journey into the Heart of Linux</h3><div class="text-muted small"><p> Introduction After over a decade of using Linux, primarily Ubuntu, I felt it was time to delve deeper into the system‚Äôs internals. My goal was to understand how Linux operates beneath the surfac...</p></div></div></a></div><div class="card"> <a href="/posts/scout-rule/"><div class="card-body"> <em class="small" data-ts="1722117900" data-df="ll" > Jul 28, 2024 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Scout Rule</h3><div class="text-muted small"><p> The ‚ÄúScout Rule‚Äù is derived from the Boy Scouts‚Äô motto: ‚ÄúLeave the campground cleaner than you found it.‚Äù In the context of software development, it emphasizes the idea of leaving the codebase bett...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/posts/string-pool-in-java/" class="btn btn-outline-primary" prompt="Older"><p>String pool in Java</p></a> <a href="/posts/sql-unique-vs-distinct/" class="btn btn-outline-primary" prompt="Newer"><p>SQL: NULL values in UNIQUE vs DISTINCT</p></a></div><script type="text/javascript"> $(function () { const origin = "https://giscus.app"; const iframe = "iframe.giscus-frame"; const lightTheme = "light"; const darkTheme = "dark_dimmed"; let initTheme = lightTheme; if ($("html[data-mode=dark]").length > 0 || ($("html[data-mode]").length == 0 && window.matchMedia("(prefers-color-scheme: dark)").matches)) { initTheme = darkTheme; } let giscusAttributes = { "src": "https://giscus.app/client.js", "data-repo": "borko-rajkovic/borko-rajkovic.github.io", "data-repo-id": "R_kgDOHosKmQ", "data-category": "", "data-category-id": "DIC_kwDOHosKmc4CQJ0g", "data-mapping": "pathname", "data-reactions-enabled": "1", "data-emit-metadata": "0", "data-theme": initTheme, "data-input-position": "bottom", "data-lang": "en", "crossorigin": "anonymous", "async": "" }; let giscusScript = document.createElement("script"); Object.entries(giscusAttributes).forEach(([key, value]) => giscusScript.setAttribute(key, value)); document.getElementById("tail-wrapper").appendChild(giscusScript); addEventListener("message", (event) => { if (event.source === window && event.data && event.data.direction === ModeToggle.ID) { /* global theme mode changed */ const mode = event.data.message; const theme = (mode === ModeToggle.DARK_MODE ? darkTheme : lightTheme); const message = { setConfig: { theme: theme } }; const giscus = document.querySelector(iframe).contentWindow; giscus.postMessage({ giscus: message }, origin); } }); }); </script></div></div><footer class="row pl-3 pr-3"><div class="col-12 d-flex justify-content-between align-items-center text-muted pl-0 pr-0"><div class="footer-left"><p class="mb-0"> ¬© 2025 <a href="https://twitter.com/borko_88">Borko Rajkoviƒá</a>. <span data-toggle="tooltip" data-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author.">Some rights reserved.</span></p></div><div class="footer-right"><p class="mb-0"> Powered by <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> with <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a> theme.</p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"><div id="access-tags"><div class="panel-heading">Trending Tags</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/java/">java</a> <a class="post-tag" href="/tags/generics/">generics</a> <a class="post-tag" href="/tags/javascript/">javascript</a> <a class="post-tag" href="/tags/algorithms/">algorithms</a> <a class="post-tag" href="/tags/ascii/">ascii</a> <a class="post-tag" href="/tags/bash/">bash</a> <a class="post-tag" href="/tags/puzzle/">puzzle</a> <a class="post-tag" href="/tags/string/">string</a> <a class="post-tag" href="/tags/typescript/">typescript</a> <a class="post-tag" href="/tags/utf-16/">utf-16</a></div></div></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a> <script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No results found.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script> <script src="https://cdn.jsdelivr.net/combine/npm/magnific-popup@1/dist/jquery.magnific-popup.min.js,npm/lozad/dist/lozad.min.js,npm/clipboard@2/dist/clipboard.min.js"></script> <script src="https://cdn.jsdelivr.net/combine/npm/dayjs@1/dayjs.min.js,npm/dayjs@1/locale/en.min.js,npm/dayjs@1/plugin/relativeTime.min.js,npm/dayjs@1/plugin/localizedFormat.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/js/bootstrap.bundle.min.js"></script> <script defer src="/unregister.js"></script>
